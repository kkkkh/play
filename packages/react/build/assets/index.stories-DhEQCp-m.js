import{j as e,r as t,R as f}from"./index-DBeYIoHf.js";function h(){const n=t.useRef(0);return e.jsx("div",{children:e.jsx("button",{onClick:()=>{n.current++,console.log(n.current)},children:"设置"})})}function j(){const n=t.useRef(null);return e.jsxs("div",{children:[e.jsx("div",{ref:n,children:"111"}),e.jsx("button",{onClick:()=>{n.current.innerText="222"},children:"设置"})]})}function E(){return e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"ref"}),e.jsx(h,{}),e.jsx(j,{})]})}const p=t.forwardRef(function(s,o){const{title:l,onChange:i,onKeyDown:d}=s;return e.jsx("input",{type:"text",value:l,ref:o,onChange:i,onKeyDown:d})});function b(){const n=t.useRef(null);t.useEffect(()=>{setTimeout(()=>n.current.focus(),100)},[]);function s(){console.log("change")}function o(){console.log("keydown")}return e.jsxs("div",{children:[e.jsx("h2",{children:"forwardRef"}),e.jsx(p,{ref:n,onChange:s,onKeyDown:o})]})}const u=f.createContext("没路用的初始值");function w(){const[n,s]=t.useState("文本"),o=()=>{s("更新文本")};return e.jsx(u.Provider,{value:n,children:e.jsxs("ul",{children:[e.jsx(m,{}),e.jsx("li",{children:e.jsx("button",{onClick:o,children:"更新state"})})]})})}function m(){return e.jsx(C,{})}function C(){const n=t.useContext(u);return e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"useContext"}),e.jsx("li",{children:n})]})}function v(){const[n,s]=t.useState(1),[o,l]=t.useState(1),i=t.useMemo(()=>(console.log("useMemo"),n+10),[n]);return t.useEffect(()=>{console.log("useEffect")},[n]),console.log("组件渲染"),e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"useMemo"}),e.jsx("div",{children:"Meno"}),e.jsxs("div",{children:["count:",n]}),e.jsxs("div",{children:["count2:",o]}),e.jsxs("div",{children:["memo:",i]}),e.jsx("button",{onClick:()=>s(n+1),children:"count++"}),e.jsx("button",{onClick:()=>l(o+1),children:"count2++"})]})}function y(){const n=[{title:"开发任务-1",status:"22-05-22 18:15"},{title:"开发任务-2",status:"22-05-22 18:15"},{title:"开发任务-3",status:"22-05-22 18:15"}],s=({title:c,status:r})=>e.jsxs("li",{className:"kanban-card",children:[e.jsxs("span",{className:"card-title",children:[c,"    "]}),e.jsx("span",{className:"card-status",children:r})]}),o=({title:c,children:r})=>e.jsxs("section",{children:[c,r]}),l=()=>{console.log("handleAdd")},i=!1,d=({prop1:c,prop2:r,booleanProp:a,onClick:x})=>e.jsxs("div",{children:[e.jsxs("span",{children:["prop1文本：",c,"，  "]})," ",e.jsxs("span",{children:["prop2数字：",r,"，"]})," ",e.jsxs("span",{children:["booleanProp：",a?"true":"false","，"]})," ",e.jsx("button",{onClick:x,children:"Click me"})]});return e.jsxs("div",{className:"App",children:[e.jsx(o,{title:e.jsxs(e.Fragment,{children:["待处理",e.jsx("button",{onClick:l,disabled:i,children:"⊕ 添加新卡片"})]}),children:e.jsx("ul",{children:n.map((c,r)=>t.createElement(s,{...c,key:r}))})}),e.jsx("h2",{children:"我的组件"}),e.jsx(d,{prop1:"我的",prop2:123,booleanProp:!1,onClick:c=>{console.log("clicked",c)}})]})}function k(){const[n,s]=t.useState(0);console.log("render");debugger;return t.useEffect(()=>{console.log("useEffect")}),t.useEffect(()=>{console.log("useEffect1",n)},[n]),t.useEffect(()=>(console.log("useEffect2",n),()=>{console.log("useEffect2 return")}),[n]),e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"Effect"}),e.jsx("button",{onClick:()=>s(n+1),children:"setState"})]})}const R={title:"React / Base"};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{k as Effect,b as ForwardRef,v as Meno,y as Props,E as Ref,w as UseContext,R as default};
